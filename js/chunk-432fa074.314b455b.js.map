{"version":3,"sources":["webpack:///./src/views/CheckingOrder.vue","webpack:///./src/components/frontend/CheckingOrderModal.vue","webpack:///./src/components/frontend/CheckingOrderModal.vue?1761","webpack:///./src/views/CheckingOrder.vue?8913","webpack:///./src/assets/loading.png","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["class","src","alt","data-aos","for","type","scope","width","colspan","active","isLoading","z-index","sendCheckingOrder","ref","errors","id","name","placeholder","rules","email","foundOrders","length","msg","item","key","$filters","date","create_at","role","copyId","currency","total","look","tempOrder","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","products","product","imageUrl","title","qty","props","Object","mixins","modalMixin","__exports__","components","CheckingOrderModal","data","orders","created","this","getOrders","inject","methods","$refs","checkingOrder","validate","then","success","valid","filter","user","api","$http","get","res","$copyText","emitter","emit","style","order","checkOrderComponent","checkOrderModal","showModal","render","module","exports","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-432fa074.314b455b.js","sourcesContent":["<template>\n  <Loading v-model:active=\"isLoading\" :z-index=\"9999\">\n    <div class=\"rotationLoading\">\n      <img src=\"../assets/loading.png\" alt=\"loading\" class=\"img-fluid\">\n    </div>\n  </Loading>\n\n  <div class=\"checkingOrder containerTop g-1\" data-aos=\"zoom-in\">\n    <h1 class=\"pageTitle position-relative text-center mb-5 p-2\">\n      <span class=\"fs-2\">Checking Order</span><br>\n      <span class=\"fs-4\">查詢訂單</span>\n    </h1>\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <div class=\"border p-3 mb-3\">\n          <Form @submit=\"sendCheckingOrder\" v-slot=\"{errors}\" ref=\"checkingOrder\">\n            <div class=\"mb-3\">\n              <div class=\"row row-cols-1 g-3\">\n                <div class=\"col\">\n                  <label for=\"email\" class=\"form-label\">信箱</label>\n                  <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control focusNone\"\n                   :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\"\n                   rules=\"email|required\" v-model.trim=\"email\"></Field>\n                  <error-message v-if=\"errors\" name=\"email\"\n                   class=\"invalid-feedback errorText text-persimmon\"></error-message>\n                </div>\n                <div class=\"col mx-auto\">\n                  <button type=\"submit\" class=\"btn btn-primary fw-bold fs-5 w-100 mt-3\">\n                    查詢訂單編號\n                  </button>\n                </div>\n              </div>\n            </div>\n          </Form>\n        </div>\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"border p-3\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">訂購日期</th>\n                <th scope=\"col\">訂單編號</th>\n                <th scope=\"col\" class=\"d-none d-sm-table-cell\">總金額</th>\n                <th scope=\"col\" width=\"50\">操作</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-if=\"foundOrders.length === 0\">\n                <th scope=\"row\" colspan=\"4\" class=\"text-center text-secondary p-3\">{{msg}}</th>\n              </tr>\n              <template v-else>\n                <tr v-for=\"item in foundOrders\" :key=\"item.id\">\n                  <th scope=\"row\" class=\"text-break\">\n                    {{$filters.date(item.create_at * 1000)}}\n                  </th>\n                  <td class=\"text-break\" role=\"button\" @click=\"copyId(item.id)\">\n                    {{item.id}}\n                  </td>\n                  <td class=\"d-none d-sm-table-cell\">\n                    {{$filters.currency(item.total)}}\n                  </td>\n                  <td class=\"text-center\" role=\"button\" @click=\"look(item.id)\">\n                    <i class=\"bi bi-eye-fill\"></i>\n                  </td>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <CheckingOrderModal ref=\"checkOrderModal\" :tempOrder=\"tempOrder\"></CheckingOrderModal>\n\n</template>\n\n<script>\nimport CheckingOrderModal from '@/components/frontend/CheckingOrderModal.vue';\n\nexport default {\n  components: {\n    CheckingOrderModal,\n  },\n  data() {\n    return {\n      orders: [],\n      foundOrders: [],\n      tempOrder: {},\n      isLoading: false,\n      email: '',\n      msg: '請輸入信箱來查詢訂單',\n    };\n  },\n  created() {\n    this.getOrders();\n  },\n  inject: ['emitter'],\n  methods: {\n    sendCheckingOrder() {\n      this.$refs.checkingOrder.validate().then((success) => {\n        if (!success.valid) return;\n        this.foundOrders = this.orders.filter((item) => item.user.email === this.email);\n        if (this.foundOrders.length > 0) {\n          this.msg = '';\n        } else {\n          this.msg = '沒有任何訂購紀錄';\n        }\n      });\n    },\n    getOrders() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders`;\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.orders = res.data.orders;\n          this.isLoading = false;\n        }\n      });\n    },\n    copyId(id) {\n      this.$copyText(id).then(() => {\n        this.emitter.emit('push-message', {\n          style: 'success',\n          title: '複製產品編號成功',\n        });\n      });\n    },\n    look(id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`;\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.tempOrder = res.data.order;\n          this.isLoading = false;\n          const checkOrderComponent = this.$refs.checkOrderModal;\n          checkOrderComponent.showModal();\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","<template>\n<div class=\"modal fade\" id=\"compoundModal\" tabindex=\"-1\"\n  aria-labelledby=\"compoundModalLabel\" aria-hidden=\"true\" ref=\"compoundModal\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header bg-primary text-white\">\n        <h5 class=\"modal-title\" id=\"compoundModalLabel\">{{tempOrder.id}} 訂單明細</h5>\n        <button type=\"button\" class=\"btn-close btn-close-white\"\n         data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body p-0\">\n        <div v-for=\"item in tempOrder.products\" :key=\"item.id\"\n         class=\"d-flex align-items-center border-bottom p-3\">\n          <div class=\"me-3\">\n            <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\" width=\"100\">\n          </div>\n          <div class=\"text\">\n            <div class=\"title mb-2\">{{item.product.title}}</div>\n            <div class=\"qty mb-2\">數量：{{item.qty}}</div>\n            <div class=\"text-persimmon fst-italic fw-bold\">\n              單品總計：{{$filters.currency(item.total)}}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <div class=\"text-persimmon fst-italic fs-5 fw-bold me-auto\">\n          總金額：{{$filters.currency(tempOrder.total)}}\n        </div>\n        <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n          關閉\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    tempOrder: {\n      type: Object,\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./CheckingOrderModal.vue?vue&type=template&id=2987cacf\"\nimport script from \"./CheckingOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./CheckingOrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Vue CLI\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CheckingOrder.vue?vue&type=template&id=5601370e\"\nimport script from \"./CheckingOrder.vue?vue&type=script&lang=js\"\nexport * from \"./CheckingOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Vue CLI\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/loading.470fd1db.png\";","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}