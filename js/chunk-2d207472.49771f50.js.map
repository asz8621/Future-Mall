{"version":3,"sources":["webpack:///./src/views/Favorite.vue","webpack:///./src/views/Favorite.vue?2613"],"names":["class","src","alt","data-aos","active","isLoading","z-index","favoriteList","length","tempProducts","page","type","$router","push","components","ProductsCard","data","products","btnLoading","inject","created","this","getProducts","methods","JSON","parse","localStorage","getItem","api","$http","get","then","res","success","forEach","id","productIndex","findIndex","item","favorite","__exports__","render"],"mappings":"8JAEI,eAEM,OAFDA,MAAM,mBAAiB,CAC1B,eAAiE,OAA5DC,IAAA,IAA4BC,IAAI,UAAUF,MAAM,gB,MAGpDA,MAAM,6BAA6BG,WAAS,W,EAC/C,eAGK,MAHDH,MAAM,oDAAkD,CAC1D,eAAwC,QAAlCA,MAAM,QAAO,kBAAqB,eAAI,MAC5C,eAA8B,QAAxBA,MAAM,QAAO,U,YAMTA,MAAM,2B,EAChB,eAA0D,KAAvDA,MAAM,wBAAuB,0BAAsB,G,oJAf1D,eAIU,GAJOI,OAAQ,EAAAC,U,iDAAA,EAAAA,UAAS,IAAGC,UAAS,M,yBAC5C,iBAEM,CAFN,M,mBAIF,eAcM,MAdN,EAcM,CAbJ,EAKuC,IAAnB,EAAAC,aAAaC,Q,iBAAjC,eAC6D,G,MADbC,aAAc,EAAAA,aAC5DF,aAAc,EAAAA,aAAcG,KAAK,Y,2DAEnC,eAIM,MAJN,EAIM,CAHJ,EACA,eACwD,UADhDC,KAAK,SAASX,MAAM,8CAC1B,QAAK,iCAAOY,QAAQC,KAAI,gBAAe,gB,4DAOhC,GACbC,WAAY,CACVC,eAAA,MAEFC,KAJa,WAKX,MAAO,CACLC,SAAU,GACVR,aAAc,GACdF,aAAc,GACdF,WAAW,EACXa,WAAY,KAGhBC,OAAQ,CAAC,WACTC,QAda,WAeXC,KAAKC,eAEPC,QAAS,CACPD,YADO,WACO,WAEZD,KAAKd,aAAeiB,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,GACpEN,KAAKhB,WAAY,EACjB,IAAMuB,EAAE,UAAO,wCAAP,eAAqC,SAArC,iBACRP,KAAKQ,MAAMC,IAAIF,GAAKG,MAAK,SAACC,GACpBA,EAAIhB,KAAKiB,UACX,EAAKhB,SAAWe,EAAIhB,KAAKC,SACzB,EAAKZ,WAAY,EAEjB,EAAKE,aAAa2B,SAAQ,SAACC,GACzB,IAAMC,EAAe,EAAKnB,SAASoB,WAAU,SAACC,GAAD,OAAUA,EAAKH,KAAOA,KACnE,EAAKlB,SAASmB,GAAcG,UAAW,EACvC,EAAK9B,aAAaI,KAAK,EAAKI,SAASmB,c,qBCnDjD,MAAMI,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d207472.49771f50.js","sourcesContent":["<template>\n  <Loading v-model:active=\"isLoading\" :z-index=\"9999\">\n    <div class=\"rotationLoading\">\n      <img src=\"../assets/loading.png\" alt=\"loading\" class=\"img-fluid\">\n    </div>\n  </Loading>\n  <div class=\"favorite containerTop mb-5\" data-aos=\"zoom-in\">\n    <h1 class=\"pageTitle position-relative text-center mb-5 p-2\">\n      <span class=\"fs-2\">Favorites List</span><br>\n      <span class=\"fs-4\">收藏清單</span>\n    </h1>\n\n    <ProductsCard v-if=\"favoriteList.length !== 0\" :tempProducts=\"tempProducts\"\n     :favoriteList=\"favoriteList\" page=\"favorite\"></ProductsCard>\n\n    <div v-else class=\"notFavorite text-center\">\n      <p class=\"notFavoriteText fs-5\">收藏清單並無任何商品，請點選下方按鈕收藏商品</p>\n      <button type=\"button\" class=\"notFavoriteBtn btn btn-primary fw-bold fs-5\"\n       @click=\"this.$router.push('/products')\">前往收藏商品</button>\n    </div>\n  </div>\n</template>\n<script>\nimport ProductsCard from '@/components/frontend/ProductsCard.vue';\n\nexport default {\n  components: {\n    ProductsCard,\n  },\n  data() {\n    return {\n      products: [],\n      tempProducts: [],\n      favoriteList: [],\n      isLoading: false,\n      btnLoading: '',\n    };\n  },\n  inject: ['emitter'],\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    getProducts() {\n      // 取 localStorage 資料\n      this.favoriteList = JSON.parse(localStorage.getItem('favorite')) || [];\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.isLoading = false;\n          // 處理收藏狀態\n          this.favoriteList.forEach((id) => {\n            const productIndex = this.products.findIndex((item) => item.id === id);\n            this.products[productIndex].favorite = true;\n            this.tempProducts.push(this.products[productIndex]);\n          });\n        }\n      });\n    },\n  },\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import { render } from \"./Favorite.vue?vue&type=template&id=230c2ffc\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Vue CLI\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}